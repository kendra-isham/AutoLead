{"ast":null,"code":"// import types\nimport { INPUT_SUCCESS, INPUT_FAIL, SESSION_SUCCESS, SESSION_FAIL, MESSAGE_SUCCESS, MESSAGE_FAIL } from \"./types\";\nimport axios from \"axios\"; // handles user message \n\nexport const userMessage = message => async dispatch => {\n  try {\n    console.log(\"in userMessage. message = \" + message);\n    dispatch({\n      type: INPUT_SUCCESS,\n      payload: message\n    });\n  } catch (err) {\n    dispatch({\n      type: INPUT_FAIL\n    });\n  }\n\n  ;\n}; // GET a session \n\nexport const createSession = () => async dispatch => {\n  try {\n    console.log(\"in createSession\");\n    const res = await axios.get(\"/watson/session\");\n    dispatch({\n      type: SESSION_SUCCESS,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: SESSION_FAIL\n    });\n  }\n}; // POST message to the bot \n\nexport const sendMessage = message => async dispatch => {\n  try {\n    console.log(\"in createMessage\");\n    const body = {\n      input: message\n    };\n    const res = axios.post(\"/watson/message\", body);\n    dispatch({\n      type: MESSAGE_SUCCESS,\n      payload: (await res).data.output.generic[0].text\n    });\n    console.log(res);\n  } catch (err) {\n    dispatch({\n      type: MESSAGE_FAIL\n    });\n  }\n};","map":{"version":3,"sources":["/home/kendra/Desktop/modembot/client/src/actions/watson.js"],"names":["INPUT_SUCCESS","INPUT_FAIL","SESSION_SUCCESS","SESSION_FAIL","MESSAGE_SUCCESS","MESSAGE_FAIL","axios","userMessage","message","dispatch","console","log","type","payload","err","createSession","res","get","data","sendMessage","body","input","post","output","generic","text"],"mappings":"AAAA;AACA,SAASA,aAAT,EAAwBC,UAAxB,EACSC,eADT,EAC0BC,YAD1B,EAESC,eAFT,EAE0BC,YAF1B,QAGe,SAHf;AAIA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,OAAO,MAAMC,WAAW,GAAIC,OAAD,IAAa,MAAOC,QAAP,IAAoB;AACxD,MAAG;AACCC,IAAAA,OAAO,CAACC,GAAR,CAAY,+BAA+BH,OAA3C;AACAC,IAAAA,QAAQ,CAAC;AAACG,MAAAA,IAAI,EAAEZ,aAAP;AAAsBa,MAAAA,OAAO,EAAEL;AAA/B,KAAD,CAAR;AACH,GAHD,CAGC,OAAMM,GAAN,EAAU;AACPL,IAAAA,QAAQ,CAAC;AAACG,MAAAA,IAAI,EAAEX;AAAP,KAAD,CAAR;AACH;;AAAA;AACJ,CAPM,C,CASP;;AACA,OAAO,MAAMc,aAAa,GAAG,MAAM,MAAON,QAAP,IAAoB;AACnD,MAAG;AACCC,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,UAAMK,GAAG,GAAG,MAAMV,KAAK,CAACW,GAAN,CAAU,iBAAV,CAAlB;AACAR,IAAAA,QAAQ,CAAC;AAACG,MAAAA,IAAI,EAAEV,eAAP;AAAwBW,MAAAA,OAAO,EAAEG,GAAG,CAACE;AAArC,KAAD,CAAR;AACH,GAJD,CAIC,OAAMJ,GAAN,EAAU;AACPL,IAAAA,QAAQ,CAAC;AAACG,MAAAA,IAAI,EAAET;AAAP,KAAD,CAAR;AACH;AACJ,CARM,C,CAUP;;AACA,OAAO,MAAMgB,WAAW,GAAGX,OAAO,IAAI,MAAOC,QAAP,IAAoB;AACtD,MAAG;AACCC,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,UAAMS,IAAI,GAAG;AAACC,MAAAA,KAAK,EAACb;AAAP,KAAb;AACA,UAAMQ,GAAG,GAAGV,KAAK,CAACgB,IAAN,CAAW,iBAAX,EAA8BF,IAA9B,CAAZ;AACAX,IAAAA,QAAQ,CAAC;AAACG,MAAAA,IAAI,EAAER,eAAP;AAAwBS,MAAAA,OAAO,EAAE,CAAC,MAAMG,GAAP,EAAYE,IAAZ,CAAiBK,MAAjB,CAAwBC,OAAxB,CAAgC,CAAhC,EAAmCC;AAApE,KAAD,CAAR;AACAf,IAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACH,GAND,CAMC,OAAMF,GAAN,EAAU;AACPL,IAAAA,QAAQ,CAAC;AAACG,MAAAA,IAAI,EAAEP;AAAP,KAAD,CAAR;AACH;AACJ,CAVM","sourcesContent":["// import types\nimport { INPUT_SUCCESS, INPUT_FAIL,\n         SESSION_SUCCESS, SESSION_FAIL,\n         MESSAGE_SUCCESS, MESSAGE_FAIL,\n        } from \"./types\";\nimport axios from \"axios\";\n\n// handles user message \nexport const userMessage = (message) => async (dispatch) => {\n    try{\n        console.log(\"in userMessage. message = \" + message);\n        dispatch({type: INPUT_SUCCESS, payload: message });\n    }catch(err){\n        dispatch({type: INPUT_FAIL });\n    };\n};\n\n// GET a session \nexport const createSession = () => async (dispatch) => {\n    try{\n        console.log(\"in createSession\");\n        const res = await axios.get(\"/watson/session\");\n        dispatch({type: SESSION_SUCCESS, payload: res.data});\n    }catch(err){\n        dispatch({type: SESSION_FAIL});\n    }\n};\n\n// POST message to the bot \nexport const sendMessage = message => async (dispatch) => {\n    try{\n        console.log(\"in createMessage\");\n        const body = {input:message};\n        const res = axios.post(\"/watson/message\", body);\n        dispatch({type: MESSAGE_SUCCESS, payload: (await res).data.output.generic[0].text});\n        console.log(res);\n    }catch(err){\n        dispatch({type: MESSAGE_FAIL});\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}